{% extends 'base.html' %}

{% block title %}Edit Opportunity{% endblock %}

{% block content %}
<div class="container">
    <h2>Edit Opportunity</h2>

    <form method="post" class="opportunity-form">
        <div class="form-group">
            <label for="title">Title*</label>
            <input type="text" id="title" name="title" class="form-control" value="{{ opportunity.title }}" required>
        </div>

        <div class="form-group">
            <label for="type">Type*</label>
            <select id="type" name="type" class="form-control" required>
                {% for option in ['technical', 'cultural', 'designing', 'video editing', 'photography', 'other'] %}
                    <option value="{{ option }}" {% if opportunity.type == option %}selected{% endif %}>{{ option|capitalize }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="description">Description*</label>
            <textarea id="description" name="description" class="form-control" rows="4" required>{{ opportunity.description }}</textarea>
        </div>

        <div class="form-group">
            <label for="requirements">Requirements*</label>
            <textarea id="requirements" name="requirements" class="form-control" rows="3" required>{{ opportunity.requirements }}</textarea>
        </div>

        <div class="form-group">
            <label for="deadline">Deadline*</label>
            <input type="datetime-local" id="deadline" name="deadline" class="form-control"
                value="{{ opportunity.deadline.strftime('%Y-%m-%dT%H:%M') }}" required>
        </div>

        <div class="form-group">
            <label for="positions">Number of Positions*</label>
            <input type="number" id="positions" name="positions" class="form-control" min="1"
                value="{{ opportunity.positions }}" required>
        </div>

        <div class="form-group">
            <label for="google_form_link">Application Form Link*</label>
            <input type="url" id="google_form_link" name="google_form_link" class="form-control"
                value="{{ opportunity.google_form_link }}" required>
        </div>

        <div class="form-group">
            <label for="google_responses_link">Responses Spreadsheet Link*</label>
            <input type="url" id="google_responses_link" name="google_responses_link" class="form-control"
                value="{{ opportunity.google_responses_link }}" required>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Update Opportunity</button>
            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
